# üéØ 1Ô∏è‚É£ Shader –∑–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—î –≤ –º–µ–∂–∞—Ö –≥–µ–æ–º–µ—Ç—Ä—ñ—ó

`<Shader />` —Å–∞–º –ø–æ —Å–æ–±—ñ –Ω—ñ—á–æ–≥–æ –Ω–µ –º–∞–ª—é—î.
–í—ñ–Ω –ª–∏—à–µ –≤–∏–∑–Ω–∞—á–∞—î **—è–∫ –∑–∞—Ñ–∞—Ä–±—É–≤–∞—Ç–∏ –ø—ñ–∫—Å–µ–ª—ñ —Ç—ñ—î—ó –≥–µ–æ–º–µ—Ç—Ä—ñ—ó, –¥–æ —è–∫–æ—ó –≤—ñ–Ω –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–∏–π**.

---

# üß± 2Ô∏è‚É£ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –º–æ–¥–µ–ª—å –º–∏—Å–ª–µ–Ω–Ω—è

–£ Skia –¥–µ—Ä–µ–≤–æ –ø—Ä–∞—Ü—é—î —Ç–∞–∫:

```
Geometry node
    ‚îî‚îÄ‚îÄ Paint node
            ‚îî‚îÄ‚îÄ Shader
```

–¢–æ–±—Ç–æ:

```tsx
<Geometry>
  <Shader />
</Geometry>
```

‚Äî —Ü–µ –∫–æ—Ä–µ–∫—Ç–Ω–∞ –º–æ–¥–µ–ª—å.

---

# üé® 3Ô∏è‚É£ –ü—Ä–∏–∫–ª–∞–¥ –∑ Fill (–≤–µ—Å—å Canvas)

```tsx
<Canvas>
  <Fill>
    <Shader ... />
  </Fill>
</Canvas>
```

`Fill` ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–æ ‚Äú–Ω–∞–º–∞–ª—é–π –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫ —Ä–æ–∑–º—ñ—Ä—É Canvas‚Äù.

–¢–æ–º—É Shader –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ –≤–µ—Å—å Canvas.

---

# üîµ 4Ô∏è‚É£ –ü—Ä–∏–∫–ª–∞–¥ –∑ –æ–±–º–µ–∂–µ–Ω–æ—é —Ñ–æ—Ä–º–æ—é

```tsx
<RoundedRect x={0} y={0} width={200} height={200} r={20}>
  <Shader ... />
</RoundedRect>
```

–¢–µ–ø–µ—Ä Shader –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è **—Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø—ñ–∫—Å–µ–ª—ñ–≤ —Ü—å–æ–≥–æ –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫–∞**.

---

# üü¢ 5Ô∏è‚É£ –ü—Ä–∏–∫–ª–∞–¥ –∑ Path (–∑–∞–º–∫–Ω—É—Ç–∞ –ª–∞–º–∞–Ω–∞)

```tsx
<Path path={someClosedPath}>
  <Shader ... />
</Path>
```

Shader –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü—å–æ–≥–æ path.

---

# üî• 6Ô∏è‚É£ –í–∞–∂–ª–∏–≤–∞ —Ç–æ–Ω–∫—ñ—Å—Ç—å

Shader **–æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø—ñ–∫—Å–µ–ª—ñ–≤ –≥–µ–æ–º–µ—Ç—Ä—ñ—ó**,
–∞–ª–µ `fragCoord` –≤—Å–µ –æ–¥–Ω–æ –º—ñ—Å—Ç–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —É –ø—Ä–æ—Å—Ç–æ—Ä—ñ Canvas.

–¢–æ–±—Ç–æ:

- —è–∫—â–æ —Ç–∏ –º–∞–ª—é—î—à –º–∞–ª–µ–Ω—å–∫–∏–π –∫—Ä—É–≥ –≤ —Ü–µ–Ω—Ç—Ä—ñ
- `fragCoord` –≤—Å–µ –æ–¥–Ω–æ –±—É–¥–µ –≥–ª–æ–±–∞–ª—å–Ω–∏–º

–¶–µ –¥—É–∂–µ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤.

---

# üß† 7Ô∏è‚É£ –ß–∏ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ ‚Äú–∑–∞–º–∫–Ω—É—Ç–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä‚Äù?

–¢–∞–∫.

Shader –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ —Ç–∞–º, –¥–µ —î –≥–µ–æ–º–µ—Ç—Ä—ñ—è –∑ –ø–ª–æ—â–∏–Ω–æ—é.

‚úî Fill ‚Äî –ø–ª–æ—â–∏–Ω–∞
‚úî Rect ‚Äî –ø–ª–æ—â–∏–Ω–∞
‚úî RoundedRect ‚Äî –ø–ª–æ—â–∏–Ω–∞
‚úî Path (–∑–∞–º–∫–Ω—É—Ç–∏–π) ‚Äî –ø–ª–æ—â–∏–Ω–∞
‚úî Circle ‚Äî –ø–ª–æ—â–∏–Ω–∞

‚ùå Line ‚Äî –Ω–µ –ø–ª–æ—â–∏–Ω–∞
‚ùå Stroke-only –±–µ–∑ fill ‚Äî –ø—Ä–∞—Ü—é—î –ø–æ stroke –æ–±–ª–∞—Å—Ç—ñ

---

# üìå 8Ô∏è‚É£ –¢–≤—ñ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

–¢–∏ –Ω–∞–ø–∏—Å–∞–≤:

```tsx
<–ö–æ–º–ø–æ–Ω–µ–Ω—Ç>
  <Shader />
</–ö–æ–º–ø–æ–Ω–µ–Ω—Ç>
```

–¢–∞–∫, —Ü–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî —è–∫—â–æ `<–ö–æ–º–ø–æ–Ω–µ–Ω—Ç>` —î geometry node.

---

# üß© 9Ô∏è‚É£ –©–æ –±—É–¥–µ, —è–∫—â–æ:

```tsx
<Canvas>
  <Shader ... />
</Canvas>
```

‚Üí –ù—ñ—á–æ–≥–æ –Ω–µ –Ω–∞–º–∞–ª—é—î—Ç—å—Å—è.

–ë–æ –Ω–µ–º–∞—î –≥–µ–æ–º–µ—Ç—Ä—ñ—ó.

---

# üéØ 10Ô∏è‚É£ –¢–µ–ø–µ—Ä —Å—Ñ–æ—Ä–º—É–ª—é—î–º–æ —Ç–æ—á–Ω–æ

‚úî Shader ‚Äî —Ü–µ —Ñ–∞—Ä–±–∞
‚úî Geometry ‚Äî —Ü–µ –º–∞—Å–∫–∞/–ø–ª–æ—â–∏–Ω–∞
‚úî Shader –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –≤ –º–µ–∂–∞—Ö geometry
‚úî Fill ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–æ ‚Äú–≤–µ—Å—å Canvas‚Äù
‚úî –û–±–º–µ–∂–µ–Ω–Ω—è –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —Ñ–æ—Ä–º–æ—é geometry

---

–¢–∏ –∑–∞—Ä–∞–∑ –ø–æ–≤–Ω—ñ—Å—Ç—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–æ–∑—É–º—ñ—î—à –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É.

---

–ó–∞—Ä–∞–∑ –º–∏ **–∑–∞–∫—Ä–∏—î–º–æ –ø—Ä–æ—Å—Ç—ñ—Ä —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É –ø–æ–≤–Ω—ñ—Å—Ç—é**:

1. üîπ —è–∫ `Shader` –ø–æ–≤–æ–¥–∏—Ç—å—Å—è –∑ `clip()`
2. üîπ —è–∫ `Group` –≤–ø–ª–∏–≤–∞—î –Ω–∞ –æ–±–ª–∞—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É
3. üîπ —â–æ —Ä–µ–∞–ª—å–Ω–æ –æ–±–º–µ–∂—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è shader
4. üîπ —á–∏–º —Ü–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ SDF

---

# 1Ô∏è‚É£ –Ø–∫ Shader –ø–æ–≤–æ–¥–∏—Ç—å—Å—è –∑ `clip()`

## üîπ –ü—Ä–∞–≤–∏–ª–æ

`clip()` –æ–±–º–µ–∂—É—î –æ–±–ª–∞—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É **–ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≥–µ–æ–º–µ—Ç—Ä—ñ—è –≤–∏–∑–Ω–∞—á–µ–Ω–∞**.

–¢–æ–±—Ç–æ:

```tsx
<Group clip={rrect(...)} >
  <Fill>
    <Shader ... />
  </Fill>
</Group>
```

–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:

1. `Fill` —Ö–æ—á–µ –∑–∞—Ñ–∞—Ä–±—É–≤–∞—Ç–∏ –≤–µ—Å—å Canvas
2. `clip` –æ–±–º–µ–∂—É—î –æ–±–ª–∞—Å—Ç—å
3. Shader –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ –≤ –º–µ–∂–∞—Ö clip-–æ–±–ª–∞—Å—Ç—ñ**

---

## üß† –í–∞–∂–ª–∏–≤–æ

Shader **–Ω–µ –∑–Ω–∞—î**, —â–æ –≤—ñ–Ω ‚Äú–æ–±—Ä—ñ–∑–∞–Ω–∏–π‚Äù.
–í—ñ–Ω –ø—Ä–æ—Å—Ç–æ –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –¥–ª—è –ø—ñ–∫—Å–µ–ª—ñ–≤ –ø–æ–∑–∞ clip.

`fragCoord` –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∏–º.

---

# 2Ô∏è‚É£ –Ø–∫ `Group` –≤–ø–ª–∏–≤–∞—î –Ω–∞ –æ–±–ª–∞—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É

`Group` —Å–∞–º –ø–æ —Å–æ–±—ñ **–Ω–µ –æ–±–º–µ–∂—É—î –æ–±–ª–∞—Å—Ç—å**.

–í—ñ–Ω:

- –≥—Ä—É–ø—É—î –≤—É–∑–ª–∏
- –¥–æ–∑–≤–æ–ª—è—î –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ transform
- –¥–æ–∑–≤–æ–ª—è—î –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ clip
- –¥–æ–∑–≤–æ–ª—è—î –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ opacity

---

### –ü—Ä–∏–∫–ª–∞–¥ –±–µ–∑ clip:

```tsx
<Group transform={[{ translateX: 100 }]}>
  <Fill>
    <Shader ... />
  </Fill>
</Group>
```

Shader –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å –Ω–∞ –≤–µ—Å—å Canvas,
–∞–ª–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –±—É–¥—É—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤–∞–Ω—ñ.

---

### –ü—Ä–∏–∫–ª–∞–¥ –∑ clip:

```tsx
<Group clip={rect(0,0,200,200)}>
  <Fill>
    <Shader ... />
  </Fill>
</Group>
```

Shader –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å —Ç—ñ–ª—å–∫–∏ –≤ 200x200 –æ–±–ª–∞—Å—Ç—ñ.

---

# 3Ô∏è‚É£ –©–æ —Ä–µ–∞–ª—å–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –æ–±–ª–∞—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è shader

–ü–æ—Ä—è–¥–æ–∫ —Ç–∞–∫–∏–π:

```
Geometry ‚Üí Transform ‚Üí Clip ‚Üí Shader
```

–û–±–ª–∞—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è =

```
(–ì–µ–æ–º–µ—Ç—Ä—ñ—è) ‚à© (Clip)
```

---

## –ü—Ä–∏–∫–ª–∞–¥ 1

```tsx
<RoundedRect width={200} height={200}>
  <Shader />
</RoundedRect>
```

–û–±–ª–∞—Å—Ç—å = 200x200 –æ–∫—Ä—É–≥–ª–µ–Ω–∏–π –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫.

---

## –ü—Ä–∏–∫–ª–∞–¥ 2

```tsx
<Group clip={circle}>
  <RoundedRect width={200} height={200}>
    <Shader />
  </RoundedRect>
</Group>
```

–û–±–ª–∞—Å—Ç—å = –ø–µ—Ä–µ—Ç–∏–Ω RoundedRect —Ç–∞ circle.

---

# 4Ô∏è‚É£ –î—É–∂–µ –≤–∞–∂–ª–∏–≤–∞ —Ä—ñ—á –ø—Ä–æ `fragCoord`

–ù–∞–≤—ñ—Ç—å —è–∫—â–æ —Ç–∏ –æ–±—Ä—ñ–∑–∞–≤ –æ–±–ª–∞—Å—Ç—å, `fragCoord`:

- –≤—Å–µ –æ–¥–Ω–æ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö Canvas
- –Ω–µ –ª–æ–∫–∞–ª—å–Ω–∏–π –¥–æ –≥–µ–æ–º–µ—Ç—Ä—ñ—ó

–¢–æ–±—Ç–æ —è–∫—â–æ –∫—Ä—É–≥ –≤ —Ü–µ–Ω—Ç—Ä—ñ ‚Äî `fragCoord` –Ω–µ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ (0,0) –≤ –º–µ–∂–∞—Ö –∫—Ä—É–≥–∞.

–¶–µ —á–∞—Å—Ç–æ –ø–ª—É—Ç–∞—î.

---

# 5Ô∏è‚É£ –ß–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è shader ‚Äú–¥–ª—è –≤—Å—å–æ–≥–æ –µ–∫—Ä–∞–Ω—É‚Äù?

–ù—ñ.

GPU –æ–ø—Ç–∏–º—ñ–∑—É—î:

Shader –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø—ñ–∫—Å–µ–ª—ñ–≤, —è–∫—ñ —Ä–µ–∞–ª—å–Ω–æ —Ç—Ä–µ–±–∞ –Ω–∞–º–∞–ª—é–≤–∞—Ç–∏.

---

# 6Ô∏è‚É£ Stroke vs Fill

–Ø–∫—â–æ —Ç–∏ —Ä–æ–±–∏—à:

```tsx
<RoundedRect style="stroke">
  <Shader />
</RoundedRect>
```

Shader –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –Ω–∞ —Ç–æ–≤—â–∏–Ω—ñ stroke.

---

# 7Ô∏è‚É£ –¢–µ–ø–µ—Ä –≥–æ–ª–æ–≤–Ω–µ ‚Äî –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –≤—ñ–¥ SDF

–ó–∞—Ä–∞–∑ —Ç–∏:

- –æ–±–º–µ–∂—É—î—à —Ñ–æ—Ä–º—É –≥–µ–æ–º–µ—Ç—Ä—ñ—î—é Skia
- Shader —Ç—ñ–ª—å–∫–∏ –∑–∞—Ñ–∞—Ä–±–æ–≤—É—î —ó—ó

–£ SDF –º–∏:

- –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ RoundedRect
- –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Path
- –ú–∞–ª—é—î–º–æ –Ω–∞ –≤–µ—Å—å Canvas
- –ê —Ñ–æ—Ä–º—É –≤–∏–∑–Ω–∞—á–∞—î–º–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ shader

–ù–∞–ø—Ä–∏–∫–ª–∞–¥:

```glsl
float d = length(uv - 0.5);
if (d < 0.3) {
    return half4(1,0,0,1);
}
return half4(0,0,0,1);
```

–¢—É—Ç –∫—Ä—É–≥ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ, –±–µ–∑ –≥–µ–æ–º–µ—Ç—Ä—ñ—ó.

---

# 8Ô∏è‚É£ –†–µ–∑—é–º–µ (–∑–∞–∫—Ä–∏–≤–∞—î–º–æ —Ç–µ–º—É –ø—Ä–æ—Å—Ç–æ—Ä—É)

‚úî Shader –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –≤ –º–µ–∂–∞—Ö –≥–µ–æ–º–µ—Ç—Ä—ñ—ó
‚úî Clip –¥–æ–¥–∞—Ç–∫–æ–≤–æ –æ–±–º–µ–∂—É—î –æ–±–ª–∞—Å—Ç—å
‚úî Group –±–µ–∑ clip –Ω–µ –æ–±–º–µ–∂—É—î
‚úî fragCoord –≥–ª–æ–±–∞–ª—å–Ω–∏–π
‚úî –û–±–ª–∞—Å—Ç—å = Geometry ‚à© Clip
‚úî Fill = –≥–µ–æ–º–µ—Ç—Ä—ñ—è ‚Äú–≤–µ—Å—å Canvas‚Äù
‚úî SDF = —Ñ–æ—Ä–º–∞ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ

---

–¢–µ–ø–µ—Ä —Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–Ω—Ç—Ä–æ–ª—é—î—à –ø—Ä–æ—Å—Ç—ñ—Ä —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É.

---

–ì–æ—Ç–æ–≤–∏–π –ø–µ—Ä–µ–π—Ç–∏ –¥–æ:

üîπ Signed Distance Field (—Å–ø—Ä–∞–≤–∂–Ω—ñ–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç)
üîπ –∞–±–æ —Ö–æ—á–µ—à —Å–ø–æ—á–∞—Ç–∫—É –∑—Ä–æ–∑—É–º—ñ—Ç–∏ transform —É Shader?
